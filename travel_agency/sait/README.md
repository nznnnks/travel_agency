# Travelio Frontend Integration

## Обзор

Этот проект представляет собой фронтенд для Travelio - платформы для путешествий с микросервисной архитектурой. Фронтенд интегрирован с четырьмя микросервисами:

- **User Service** (порт 8084) - управление пользователями и аутентификация
- **Trip Service** (порт 8081) - управление маршрутами и поездками  
- **Review Service** (порт 8082) - система отзывов и рейтингов
- **Match Service** (порт 8083) - поиск попутчиков

## Структура проекта

```
sait/
├── index.html          # Главная страница
├── register.html       # Страница регистрации
├── routes.html         # Страница маршрутов
├── reviews.html        # Страница отзывов
├── companions.html     # Страница поиска попутчиков
├── api-integration.js  # Основной файл интеграции с API
├── script..js         # Оригинальный JavaScript (заменен)
├── styles.css         # Стили
└── images/            # Изображения
```

## Функциональность

### 1. User Service Integration
- **Регистрация пользователей** через форму на `register.html`
- **Аутентификация** с JWT токенами
- **Управление сессией** с сохранением токена в localStorage

### 2. Trip Service Integration  
- **Загрузка маршрутов** на странице `routes.html`
- **Фильтрация маршрутов** по типу, сложности, региону
- **Поиск маршрутов** по направлению
- **Детальная информация** о маршрутах

### 3. Review Service Integration
- **Загрузка отзывов** на странице `reviews.html`
- **Отображение рейтингов** и комментариев
- **Создание новых отзывов** (через API)

### 4. Match Service Integration
- **Поиск попутчиков** на странице `companions.html`
- **Создание совпадений** для совместных поездок
- **Управление совпадениями** (принятие/отклонение)
- **Просмотр моих совпадений**

## API Endpoints

### User Service (http://localhost:8084/api/users)
- `POST /register` - Регистрация
- `POST /login` - Вход в систему
- `GET /me` - Текущий пользователь

### Trip Service (http://localhost:8081/api/trips)
- `GET /` - Все маршруты
- `GET /{id}` - Маршрут по ID
- `GET /search?destination={destination}` - Поиск по направлению

### Review Service (http://localhost:8082/api/reviews)
- `GET /` - Все отзывы
- `GET /type/{reviewType}` - Отзывы по типу
- `GET /reviewable/{reviewableId}/type/{reviewType}` - Отзывы объекта

### Match Service (http://localhost:8083/api/matches)
- `POST /` - Создать совпадение
- `GET /` - Все совпадения
- `PUT /{id}/accept` - Принять совпадение
- `PUT /{id}/reject` - Отклонить совпадение

## Использование

### Запуск микросервисов
1. Запустите Eureka Server: `start-eureka-only.bat`
2. Запустите все микросервисы: `start-microservices-only.bat`

### Запуск фронтенда
1. Откройте `index.html` в браузере
2. Или используйте локальный сервер (например, Live Server в VS Code)

### Тестирование интеграции
1. **Регистрация**: Перейдите на `register.html` и создайте аккаунт
2. **Маршруты**: На `routes.html` просмотрите доступные маршруты
3. **Отзывы**: На `reviews.html` посмотрите отзывы пользователей
4. **Попутчики**: На `companions.html` найдите попутчиков для поездки

## Особенности реализации

### Безопасность
- JWT токены для аутентификации
- Автоматическое добавление Authorization header
- Сохранение токена в localStorage

### Обработка ошибок
- Централизованная обработка ошибок API
- Пользовательские уведомления об ошибках
- Graceful degradation при недоступности сервисов

### UX/UI
- Современный дизайн с анимациями
- Адаптивная верстка
- Модальные окна для взаимодействия
- Индикаторы загрузки

### Архитектура
- Модульная структура кода
- Разделение ответственности
- Переиспользуемые компоненты
- Асинхронные операции

## Расширение функциональности

### Добавление новых страниц
1. Создайте HTML файл
2. Подключите `api-integration.js`
3. Добавьте ссылку в навигацию
4. Реализуйте специфичную логику

### Добавление новых API вызовов
1. Расширьте класс `TravelioAPI` в `api-integration.js`
2. Добавьте соответствующие UI функции
3. Обновите стили при необходимости

### Кастомизация стилей
- Все стили в `styles.css`
- Используйте CSS переменные для цветов
- Следуйте существующим паттернам дизайна

## Устранение проблем

### CORS ошибки
- Убедитесь, что микросервисы запущены
- Проверьте настройки CORS в контроллерах

### Ошибки аутентификации
- Проверьте срок действия JWT токена
- Убедитесь, что токен правильно передается

### Проблемы с загрузкой данных
- Проверьте доступность микросервисов
- Убедитесь в правильности URL endpoints
- Проверьте консоль браузера на ошибки

## Технические требования

- Современный браузер с поддержкой ES6+
- Локально запущенные микросервисы
- Доступ к портам 8080-8084

## Лицензия

© 2025 Travelio. Все права защищены.

